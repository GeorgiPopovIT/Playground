<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:viewModel ="clr-namespace:BelotScorer.ViewModels"
             x:DataType="viewModel:CreateGameViewModel"
             x:Class="BelotScorer.Views.CreateGamePage"
             Title="Ð¡ÑŠÐ·Ð´Ð°Ð¹ Ð¸Ð³Ñ€Ð°"
             BackgroundImageSource="table_background.jpg">

    <Grid>
        <!-- Semi-transparent overlay -->
        <BoxView Color="Black" Opacity="0.25"/>
        
        <!-- SafeArea margin to ensure content doesn't get cut off by device notches or system UI -->
        <Grid Padding="{OnPlatform iOS='0,40,0,20', Default='0,20,0,20'}">
            <!-- Center content but allow it to adapt to different screen sizes -->
            <ScrollView>
                <Grid VerticalOptions="Center" Margin="20,0">
                    <Border 
                        Stroke="#D4AF37"
                        StrokeThickness="4"
                        StrokeShape="RoundRectangle 28"
                        BackgroundColor="#F5F5DC"
                        Opacity="0.98"
                        HorizontalOptions="Fill">

                        <Border.Shadow>
                            <Shadow Brush="#000000"
                                    Offset="0,10"
                                    Opacity="0.7"
                                    Radius="20" />
                        </Border.Shadow>

                        <VerticalStackLayout 
                            Spacing="20" 
                            Padding="25"
                            Margin="0,10"
                            HorizontalOptions="Center">

                            <!-- Icon Header -->
                            <Label Text="ðŸŽ´"
                                   FontSize="50"
                                   HorizontalOptions="Center"
                                   Margin="0,0,0,5"/>
                            
                            <Label Text="ÐÐ¾Ð²Ð° Ð¸Ð³Ñ€Ð° Ð½Ð° Ð‘ÐµÐ»Ð¾Ñ‚" 
                                   FontSize="{OnIdiom Phone=26, Tablet=30, Desktop=30}"
                                   TextColor="#8B4513"
                                   FontAttributes="Bold"
                                   HorizontalOptions="Center"
                                   HorizontalTextAlignment="Center"
                                   Margin="0,0,0,15"/>

                        <!-- Team 1 Input -->
                        <Frame BackgroundColor="White" 
                               Padding="18" 
                               HasShadow="True"
                               BorderColor="#D4AF37"
                               CornerRadius="18"
                               Margin="0,0,0,8">
                            <Grid RowSpacing="12">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <HorizontalStackLayout Grid.Row="0" Spacing="8">
                                    <Label Text="ðŸ‘¥" FontSize="20" VerticalOptions="Center"/>
                                    <Label Text="ÐžÑ‚Ð±Ð¾Ñ€ 1" 
                                           FontSize="{OnIdiom Phone=20, Default=22}"
                                           FontAttributes="Bold"
                                           TextColor="#8B4513"
                                           VerticalOptions="Center"/>
                                </HorizontalStackLayout>
                                
                                <!-- Entry with enhanced border -->
                                <Border Grid.Row="1"
                                        Stroke="#8B4513"
                                        StrokeThickness="2"
                                        StrokeShape="RoundRectangle 12"
                                        BackgroundColor="#FAFAFA">
                                    <Border.Shadow>
                                        <Shadow Brush="#000000"
                                                Offset="0,2"
                                                Opacity="0.1"
                                                Radius="4" />
                                    </Border.Shadow>
                                    <Entry Text="{Binding Team1Name}" 
                                           x:Name="entry1"
                                           FontSize="{OnIdiom Phone=18, Default=20}"
                                           TextChanged="Entry_TeamName_Changed" 
                                           TextColor="#000000"
                                           Placeholder="Ð’ÑŠÐ²ÐµÐ´ÐµÑ‚Ðµ Ð¸Ð¼Ðµ Ð½Ð° Ð¾Ñ‚Ð±Ð¾Ñ€..." 
                                           MaxLength="15"
                                           HeightRequest="{OnIdiom Phone=55, Default=50}"
                                           Margin="12,0"
                                           PlaceholderColor="#999999"/>
                                </Border>
                            </Grid>
                        </Frame>

                        <!-- Team 2 Input -->
                        <Frame BackgroundColor="White" 
                               Padding="18" 
                               HasShadow="True"
                               BorderColor="#D4AF37"
                               CornerRadius="18"
                               Margin="0,8,0,15">
                            <Grid RowSpacing="12">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <HorizontalStackLayout Grid.Row="0" Spacing="8">
                                    <Label Text="ðŸ‘¥" FontSize="20" VerticalOptions="Center"/>
                                    <Label Text="ÐžÑ‚Ð±Ð¾Ñ€ 2" 
                                           FontSize="{OnIdiom Phone=20, Default=22}"
                                           FontAttributes="Bold"
                                           TextColor="#8B4513"
                                           VerticalOptions="Center"/>
                                </HorizontalStackLayout>
                                
                                <!-- Entry with enhanced border -->
                                <Border Grid.Row="1"
                                        Stroke="#8B4513"
                                        StrokeThickness="2"
                                        StrokeShape="RoundRectangle 12"
                                        BackgroundColor="#FAFAFA">
                                    <Border.Shadow>
                                        <Shadow Brush="#000000"
                                                Offset="0,2"
                                                Opacity="0.1"
                                                Radius="4" />
                                    </Border.Shadow>
                                    <Entry Text="{Binding Team2Name}" 
                                           x:Name="entry2"
                                           FontSize="{OnIdiom Phone=18, Default=20}"
                                           TextChanged="Entry_TeamName_Changed"
                                           TextColor="#000000" 
                                           HeightRequest="{OnIdiom Phone=55, Default=50}"
                                           Margin="12,0"
                                           PlaceholderColor="#999999" 
                                           MaxLength="15"
                                           Placeholder="Ð’ÑŠÐ²ÐµÐ´ÐµÑ‚Ðµ Ð¸Ð¼Ðµ Ð½Ð° Ð¾Ñ‚Ð±Ð¾Ñ€..."/>
                                </Border>
                            </Grid>
                        </Frame>

                        <!-- Button with better touch target and styling -->
                        <Border StrokeShape="RoundRectangle 25"
                                Stroke="#D4AF37"
                                StrokeThickness="3"
                                Padding="0"
                                Margin="0,15,0,5">
                            <Border.Shadow>
                                <Shadow Brush="#000000"
                                        Offset="0,6"
                                        Opacity="0.5"
                                        Radius="15" />
                            </Border.Shadow>
                            
                            <Button x:Name="btn_Create"
                                    Padding="{OnIdiom Phone='18,14', Default='22,12'}"  
                                    FontAttributes="Bold" 
                                    IsEnabled="False"
                                    CornerRadius="23"
                                    HeightRequest="{OnIdiom Phone=65, Default=60}"
                                    BackgroundColor="#8B4513"
                                    TextColor="White"
                                    FontSize="{OnIdiom Phone=18, Default=20}"
                                    TextTransform="Uppercase"
                                    Text="ðŸŽ® Ð—Ð°Ð¿Ð¾Ñ‡Ð½Ð¸ Ð¸Ð³Ñ€Ð°"
                                    Command="{Binding CreateGameCommand}">
                                <Button.Triggers>
                                    <DataTrigger TargetType="Button" Binding="{Binding IsEnabled, Source={RelativeSource Self}}" Value="True">
                                        <Setter Property="BackgroundColor" Value="#2E7D32" />
                                    </DataTrigger>
                                    <DataTrigger TargetType="Button" Binding="{Binding IsPressed, Source={RelativeSource Self}}" Value="True">
                                        <Setter Property="Scale" Value="0.95" />
                                    </DataTrigger>
                                </Button.Triggers>
                            </Button>
                        </Border>
                        
                        <!-- Helper text -->
                        <Label Text="ðŸ’¡ ÐŸÐ¾Ð¿ÑŠÐ»Ð½ÐµÑ‚Ðµ Ð¸Ð¼ÐµÐ½Ð°Ñ‚Ð° Ð½Ð° Ð´Ð²Ð°Ñ‚Ð° Ð¾Ñ‚Ð±Ð¾Ñ€Ð°"
                               FontSize="13"
                               TextColor="#654321"
                               HorizontalOptions="Center"
                               HorizontalTextAlignment="Center"
                               Margin="0,10,0,5"/>
                    </VerticalStackLayout>
                </Border>
            </Grid>
        </ScrollView>
        </Grid>
    </Grid>
</ContentPage>